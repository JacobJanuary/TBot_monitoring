<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fox Crypto Trading Bot Monitor</title>
    <meta name="description" content="Real-time monitoring dashboard for Fox Crypto Trading Bot">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
    <!-- ‚îÄ‚îÄ‚îÄ Compact Header ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <header id="status-bar" class="header">
        <div class="header__top">
            <div class="header__left">
                <span class="logo__icon">ü¶ä</span>
                <span class="logo__text">Fox Monitor</span>
                <div class="status-pill" id="connection-status">
                    <span class="pulse-dot"></span>
                    <span>Connecting...</span>
                </div>
            </div>
            <div class="header__right">
                <div class="badge badge--warning" id="badge-warnings" style="display:none">
                    <span>‚ö†Ô∏è</span> <span id="val-warnings">0</span>
                </div>
                <div class="badge badge--error" id="badge-errors" style="display:none">
                    <span>‚ùå</span> <span id="val-errors">0</span>
                </div>
                <span class="uptime" id="uptime">‚Äî</span>
            </div>
        </div>
        <div class="metrics-strip">
            <div class="metric">
                <span class="metric__val" id="val-positions">0</span>
                <span class="metric__lbl">Positions</span>
            </div>
            <div class="metric-sep"></div>
            <div class="metric">
                <span class="metric__val" id="val-exposure">$0</span>
                <span class="metric__lbl">Exposure</span>
            </div>
            <div class="metric-sep"></div>
            <div class="metric">
                <span class="metric__val" id="stat-opened">0</span>
                <span class="metric__lbl">Open</span>
            </div>
            <div class="metric">
                <span class="metric__val" id="stat-closed">0</span>
                <span class="metric__lbl">Close</span>
            </div>
            <div class="metric-sep"></div>
            <div class="metric">
                <span class="metric__val profit" id="stat-winners">0</span>
                <span class="metric__lbl">Win</span>
            </div>
            <div class="metric">
                <span class="metric__val loss" id="stat-losers">0</span>
                <span class="metric__lbl">Loss</span>
            </div>
            <div class="metric-sep"></div>
            <div class="metric metric--accent">
                <span class="metric__val" id="stat-total-pnl">$0.00</span>
                <span class="metric__lbl">PnL 1h</span>
            </div>
            <div class="metric-sep"></div>
            <div class="metric">
                <span class="metric__val" id="val-winrate">‚Äî</span>
                <span class="metric__lbl">Win%</span>
            </div>
            <div class="metric">
                <span class="metric__val" id="stat-ts-active">0</span>
                <span class="metric__lbl">TS</span>
            </div>
        </div>
    </header>

    <!-- ‚îÄ‚îÄ‚îÄ Main Grid ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <main class="dashboard">
        <!-- PnL Chart (full width, compact) -->
        <section class="card pnl-chart-card" id="pnl-section">
            <div class="card__header">
                <h2 class="card__title">PnL History</h2>
                <div class="period-tabs">
                    <button class="tab active" data-period="24h">24H</button>
                    <button class="tab" data-period="7d">7D</button>
                    <button class="tab" data-period="30d">30D</button>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="pnl-chart"></canvas>
            </div>
        </section>

        <!-- Positions Table -->
        <section class="card positions-card" id="positions-section">
            <div class="card__header">
                <h2 class="card__title">Active Positions</h2>
                <span class="card__count" id="positions-count">0</span>
            </div>
            <div class="table-wrapper">
                <table class="data-table" id="positions-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Exchange</th>
                            <th>Side</th>
                            <th>Entry</th>
                            <th>Current</th>
                            <th>PnL</th>
                            <th>PnL %</th>
                            <th>Stop Loss</th>
                            <th>Trailing</th>
                            <th>Age</th>
                        </tr>
                    </thead>
                    <tbody id="positions-tbody">
                        <tr class="empty-row">
                            <td colspan="10">Waiting for data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Events + Trailing Stops -->
        <section class="card events-card" id="events-section">
            <div class="card__header">
                <h2 class="card__title">Event Stream</h2>
                <div class="event-controls">
                    <select id="event-filter" class="select-mini">
                        <option value="all">All Events</option>
                        <option value="position">Positions</option>
                        <option value="order">Orders</option>
                        <option value="stop">Stop Loss</option>
                        <option value="trailing">Trailing</option>
                        <option value="wave">Waves</option>
                        <option value="error">Errors</option>
                    </select>
                    <button class="btn-icon" id="btn-clear-events" title="Clear">üóëÔ∏è</button>
                </div>
            </div>
            <div class="events-stream" id="events-stream">
                <div class="event-placeholder">Waiting for events...</div>
            </div>
        </section>

        <section class="card trailing-card" id="trailing-section">
            <h2 class="card__title">Trailing Stops</h2>
            <div class="trailing-list" id="trailing-list">
                <div class="event-placeholder">No active trailing stops</div>
            </div>
        </section>

        <!-- Risk Events + Aged Positions -->
        <section class="card risk-card" id="risk-section">
            <h2 class="card__title">Risk Events</h2>
            <div class="risk-list" id="risk-list">
                <div class="event-placeholder">No risk events</div>
            </div>
        </section>

        <section class="card aged-card" id="aged-section">
            <h2 class="card__title">Aged Positions</h2>
            <div class="aged-list" id="aged-list">
                <div class="event-placeholder">No aged positions</div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <span><kbd>R</kbd> refresh ¬∑ <kbd>P</kbd> pause ¬∑ <kbd>F</kbd> filter</span>
    </footer>

    <script src="/static/app.js"></script>
</body>

</html>